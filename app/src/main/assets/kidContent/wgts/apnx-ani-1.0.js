window.apnx=window.apnx||{},apnx.aniEffect={},apnx.AE=apnx.aniEffect,apnx.AE.bubble=function(t,a,i,o){function n(t){a.release(t)}function e(a){var i=t.tagTransformY(a)+a.height,o=Math.floor(2*f*i*(1+.6*(Math.random()-.5)));t.tagTransform(a,{duration:o,timing:"linear",style:{toY:{from:t.tagTransformY(a),to:-a.height-1}}},n)}for(var r,h,s,l,m,d,p,g=o.count||a.max,f=2,c=0;c<g;c++)if(r=a.take()){if(apn.CExe.ACCEL(r),d=r.width*g*(1+.6*(Math.random()-.5)),p=r.height*(2+Math.random()-.5),d=Math.min(d,parseInt(r.parentNode.style.width)),i){l=o.x+d*(Math.random()-.5)-r.width/2,m=o.y-p*(.5+.5*Math.random()),h=o.x-r.width/2,s=o.y;var y=Math.floor(f*d*(1+.6*(Math.random()-.5)));t.tagTransform(r,{duration:Math.floor(y/2),timing:"ease-in",style:{opacity:{from:0,to:1}}}),t.tagTransform(r,{duration:y,timing:"ease-in",style:{toY_:{from:s,to:m}}}),t.tagTransform(r,{duration:y,timing:"linear",style:{toX:{from:h,to:l}}},e)}else{var y=Math.floor(300+400*Math.random());d=parseInt(r.parentNode.style.width),h=(d-r.width)*Math.random()-r.width/2,s=parseInt(r.parentNode.style.height)+Math.random()*r.height,t.tagTransformX(r,h),t.tagTransformY(r,s,!0),t.tagTransform(r,{duration:y,timing:"ease-in",style:{opacity:{from:0,to:1}}},e)}r.style.display="block"}return 1500},apnx.AE.fall=function(t,a,i,o){function n(t){a.release(t)}function e(a){var i=Math.floor(700+800*Math.random());t.tagTransform(a,{duration:i,timing:"ease-out",style:{opacity:{from:1,to:0}}},n)}function r(a){if(!a.parentNode)return void e(a);var i=parseInt(a.parentNode.style.height)-t.tagTransformY(a),n=Math.floor(2*c*i*(1+.8*(Math.random()-.5))),r=.3*i*(.3+Math.random()),h=parseInt(a.parentNode.style.height)-a.height;y&&t.tagTransform(a,{duration:n,timing:x,style:{toX_:{from:t.tagTransformX(a),to:t.tagTransformX(a)+(h-t.tagTransformY(a))*y*(Math.random()+.3)}}}),t.tagTransform(a,{duration:n,timing:o.param.timingFall?o.param.timingFall:"linear",style:{rotate_:{from:0,to:r},toY:{from:t.tagTransformY(a),to:h}}},e)}o=o||{};var h,s,l,m,d,p,g,f=o.count||a.max,c=3,y=0,x="inQuad";o.param&&(o.param.time&&(c=o.param.time),1==Math.abs(o.param.wind)?(c*=.75,y=.35*o.param.wind,x="outQuad"):2==Math.abs(o.param.wind)&&(c*=.5,y=.3*o.param.wind));for(var u=0;u<f;u++)if(h=a.take()){if(apn.CExe.ACCEL(h),p=h.width*f*(.7+.4*(Math.random()-.5)),g=h.height*(2+Math.random()-.5),p=Math.min(p,parseInt(h.parentNode.style.width)),i){if(m=o.x+p*(Math.random()-.5)-h.width/2,d=o.y+g*(.5+.5*Math.random()),s=o.x-h.width/2,l=o.y-h.height/2,l>parseInt(h.parentNode.style.height)-2*h.height){a.release(h);continue}var M=Math.floor(c*p*(1+.6*(Math.random()-.5)));t.tagTransform(h,{duration:M,timing:o.param.timingCast1?o.param.timingCast1:"ease-in",style:{opacity:{from:0,to:1},toY_:{from:l,to:d}}}),t.tagTransform(h,{duration:M,timing:o.param.timingCast2?o.param.timingCast2:"linear",style:{toX:{from:s,to:m}}},r)}else{var M=Math.floor(300+400*Math.random());p=parseInt(h.parentNode.style.width),s=(p-h.width)*Math.random()-h.width/2,l=-h.height-Math.random()*h.height,t.tagTransformX(h,s),t.tagTransformY(h,l,!0),t.tagTransform(h,{duration:M,timing:"ease-in",style:{opacity:{from:0,to:1}}},r)}h.style.display="block"}return 1500},apnx.AE.sprinkle=function(t,a,i,o){function n(t){a.release(t)}for(var e,r,h,s,l,m,d,p=o.count||a.max,g=500,f=0;f<p;f++)if(e=a.take()){if(apn.CExe.ACCEL(e),r=o.x-e.width/2,h=o.y,i){var c=.5;m=Math.random()*(3*Math.PI/2)-.75*Math.PI,d=(.8+.4*(Math.random()-.5))*Math.max(e.width,e.height)*4}else{m=o.param&&void 0!==o.param.radian?-o.param.radian+(.2*(Math.random()-.5)+.5)*Math.PI:Math.random()*(3*Math.PI/2)-.75*Math.PI,d=(.75+.25*Math.random())*(o.radius||300);var c=Math.max(1.5,d/(Math.max(t.width,t.height)/4))}s=r+Math.sin(m)*d,l=h+-Math.cos(m)*d;var y=Math.floor(1e3*c*(1+.4*(Math.random()-.5)));(void 0===g||g<y)&&(g=y),t.tagTransform(e,{wait:.4,duration:y,timing:"ease-in",style:{opacity:{from:1,to:0},rotate:i?void 0:{from:0,to:Math.random()*c*90}}}),t.tagTransform(e,{duration:y,timing:"ease-out",style:{toY_:{from:h,to:l}}}),t.tagTransform(e,{duration:y,timing:"linear",style:{toX:{from:r,to:s}}},n),e.style.opacity=0,e.style.display="block"}return g},apnx.AE.spiral=function(t,a,i,o){function n(t){a.release(t)}function e(a){t.tagTransform(a,{duration:200,timing:"linear",style:{opacity:{from:1,to:0}}},n)}function r(t,a,i){t.$CSS("transformOrigin","-"+i+"px -"+i+"px"),t.style.left=s+i/2+"px",t.style.top=l+i/2+"px"}for(var h,s,l,m=o.count||a.max,d=500,p=0;p<m;p++)if(h=a.take()){if(apn.CExe.ACCEL(h),i){var g=18;s=o.x,l=o.y;var f=560*(1+.6*(Math.random()-.5)),c=Math.min(parseInt(h.parentNode.style.width),parseInt(h.parentNode.style.height))*(o.param&&o.param.radiusRatio?o.param.radiusRatio:.1)*(.9+.4*(Math.random()-.5)),y=Math.floor(g*c*(1+.6*(Math.random()-.5)));(void 0===d||d<y)&&(d=y),h.style.left=s+"px",h.style.top=l+"px",t.tagTransform(h,{duration:y,timing:o.param&&o.param.fly?"ease-in":"linear",style:{sprial:{from:0,to:c,unit:r}}}),t.tagTransform(h,{duration:y,timing:"ease-out",style:{opacity:{from:0,to:1}}}),t.tagTransform(h,{duration:y,timing:"ease-out",style:{rotate:{from:0,to:f}}},e)}else{var g=25,y=Math.floor(300+400*Math.random());(void 0===d||d<y)&&(d=y),areaW=parseInt(h.parentNode.style.width),s=(areaW-h.width)*Math.random()-h.width/2,l=parseInt(h.parentNode.style.height)+Math.random()*h.height,t.tagTransformX(h,s),t.tagTransformY(h,l,!0),t.tagTransform(h,{duration:y,timing:"ease-in",style:{opacity:{from:0,to:1}}},onEndCast)}h.style.display="block"}return d},apnx.CPool=function(t,a,i,o,n){this.max=i,this.p=[];for(var e,r=0,h=0,s=this,l=0;l<a.length;l++)e=t.$TAG("img",{style:"position:absolute;display:none;"}),e.onload=function(){this.width=Math.ceil(this.naturalWidth*o),this.height=Math.ceil(this.naturalHeight*o),(void 0===s.maxSize.w||s.maxSize.w<this.width)&&(s.maxSize.w=this.width),(void 0===s.maxSize.h||s.maxSize.h<this.height)&&(s.maxSize.h=this.height),s.p.push({f:!0,tag:this}),h++,n&&r+h==a.length&&n(h)},e.onerror=e.onabort=function(){r++,n&&r+h==a.length&&n(h)},e.src=a[l];this.$O7Z=a.length,this.max=i||70,this.maxSize={}},apnx.CPool.prototype.take=function(){for(var t=null,a=0;a<this.p.length;a++)if(this.p[a].f){t=this.p[a].tag,this.p[a].f=!1;break}if(!t&&this.p.length<this.max){var i=Math.floor(Math.random()*this.$O7Z);t=this.p[i].tag.cloneNode(!0),this.p[i].tag.parentNode.appendChild(t),this.p.push({tag:t,f:!1})}return t&&apn.CES.transformClear(t),t},apnx.CPool.prototype.release=function(t){for(var a=0;a<this.p.length;a++)if(this.p[a].tag==t){this.p[a].f=!0,t.style.display="none";break}},window.apnx2=function(t,a,i,o,n){this.objects=[],this.canvas=t.$TAG("canvas"),this.canvas.width=a,this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),this.zx=o,this.zy=n,this.count=0,this.TR=new bx.CTransition,this.TR.RELATIVE_TIME_SYSTEM=!0},apnx2.prototype.clear=function(){this.ctx&&this.count&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.count=0)},apnx2.prototype.run=function(){this.TR.run()},apnx2.prototype.pause=function(){this.TR.pauseTimer()},apnx2.prototype.resume=function(){this.TR.resumeTimer()},apnx2.CLR_RBmap={3:[0,2,5],4:[0,2,3,5],5:[0,2,3,4,5],6:[0,1,2,3,4,5]},apnx2.prototype._renderStorke=function(t){var a=!1;if(t.linearGradient&&t.linearGradient.length>1){if(t.boundingX)var i=this.ctx.createLinearGradient(t.boundingX.x1,0,t.boundingX.x2,0);else var i=this.ctx.createLinearGradient(t.x1,t.y1,t.x2,t.y2);for(var o=0,n=0;n<t.linearGradient.length;n++)i.addColorStop(o,t.linearGradient[n]),o+=1/(t.linearGradient.length-1),n==t.linearGradient.length-1&&(o=1);this.ctx.strokeStyle=i}else if(t.strokeStyle instanceof Array){if(6==t.strokeStyle.length)for(var e=Math.max(5,this.ctx.lineWidth),r=Math.min(Math.ceil(e/2),6),h=new Array(r),s=e/(2*(r-1)+1),l=0;l<h.length;l++)this.ctx.strokeStyle=t.strokeStyle[apnx2.CLR_RBmap[r][l]],this.ctx.lineWidth=s*(2*(h.length-1-l)+1),this.ctx.stroke();else 2==t.strokeStyle.length&&(this.ctx.strokeStyle=t.strokeStyle[1],this.ctx.lineWidth=Math.max(3,this.ctx.lineWidth),this.ctx.stroke(),this.ctx.strokeStyle=t.strokeStyle[0],this.ctx.lineWidth=this.ctx.lineWidth-Math.ceil(this.ctx.lineWidth/10),this.ctx.stroke());a=!0}else this.ctx.strokeStyle=t.strokeStyle;if(!a)if("neon"==t.strokeType){for(var e=Math.max(5,this.ctx.lineWidth),r=Math.ceil(e/2),s=e/(2*(r-1)+1),m=this.ctx.globalAlpha,l=0;l<r;l++)this.ctx.globalAlpha=m*((l+1)/r),this.ctx.lineWidth=s*(2*(r-1-l)+1),this.ctx.stroke();this.ctx.globalAlpha=m}else this.ctx.stroke()},apnx2.prototype.onTR=function(t,a,i,o){if("offset"==a?(t.ox=i*Math.cos((t.pRotate||0)*Math.PI/180),t.oy=-i*Math.sin((t.pRotate||0)*Math.PI/180)):"opacity"==a?t[a]=i:t.line?t.line[a]=i:t.polygon?"x"==a[0]?t.polygon[parseInt(a.substring(1))].x=i:"y"==a[0]?t.polygon[parseInt(a.substring(1))].y=i:t.polygon[a]=i:t[a]=i,a==o){if(t.img)void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=t.opacity),void 0!==t.rotate&&0!=t.rotate||void 0!==t.zoom&&0!=t.zomm?(this.ctx.translate(Math.round(t.x+(t.ox||0))+t.w/2,Math.round(t.y+(t.oy||0))+t.h/2),void 0!==t.rotate&&0!=t.rotate&&this.ctx.rotate(t.rotate*Math.PI/180),void 0!==t.zoom&&this.ctx.scale(t.zoom||1e-6,t.zoom||1e-6),this.ctx.drawImage(t.img,-t.w/2||0,-t.h/2||0,t.w||0,t.h||0),void 0!==t.zoom&&this.ctx.scale(1/(t.zoom||1e-6),1/(t.zoom||1e-6)),void 0!==t.rotate&&0!=t.rotate&&this.ctx.rotate(-t.rotate*Math.PI/180),this.ctx.translate(-(Math.round(t.x+(t.ox||0))+t.w/2),-(Math.round(t.y+(t.oy||0))+t.h/2))):this.ctx.drawImage(t.img,Math.round(t.x+(t.ox||0)),Math.round(t.y+(t.oy||0)),t.w||0,t.h||0),void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=1);else if(t.wgt)t.wgt.tag.parentNode&&(void 0!==t.opacity&&1!=t.opacity&&t.wgt.set("opacity",t.opacity),void 0!==t.rotate&&0!=t.rotate&&t.wgt.set("angle",t.rotate),void 0!==t.zoom&&0!=t.zoom&&t.wgt.zoomTo(100*t.zoom+"%",100*t.zoom+"%"),t.wgt.moveTo(t.x+(t.ox||0),t.y+(t.oy||0)));else if(t.line)void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.lineCap=t.line.lineCap||"round",this.ctx.lineWidth=t.line.lineWidth||7,this.ctx.setLineDash(t.line.lineDash),this.ctx.beginPath(),this.ctx.moveTo(t.line.x1,t.line.y1),this.ctx.lineTo(t.line.x2,t.line.y2),this._renderStorke(t.line),void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=1);else if(t.polygon){void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.lineCap=t.polygon.lineCap||"round","round"==this.ctx.lineCap?this.ctx.lineJoin="round":"butt"==this.ctx.lineCap?this.ctx.lineJoin="bevel":this.ctx.lineJoin="miter",this.ctx.lineWidth=t.polygon.lineWidth||7,this.ctx.setLineDash(t.polygon.lineDash),this.ctx.beginPath();var n=0;t.polygon[0].x==t.polygon[t.polygon.length-1].x&&t.polygon[0].y==t.polygon[t.polygon.length-1].y&&(n=1);for(var e=0;e<t.polygon.length-n;e++)0==e?this.ctx.moveTo(t.polygon[e].x,t.polygon[e].y):this.ctx.lineTo(t.polygon[e].x,t.polygon[e].y);n&&this.ctx.closePath(),this._renderStorke(t.polygon),void 0!==t.opacity&&1!=t.opacity&&(this.ctx.globalAlpha=1)}this.count++}},apnx2.prototype.sprinkle=function(t,a,i,o){function n(t,a,i){c.onTR(t,a,i,"x")}function e(t){}if(!t||!t.length||!a)return 0;for(var r,h,s,l,m,d,p,g,f,c=this,y=o&&o.imgZoom?o.imgZoom:1,x=500,u=0;u<a;u++){if(r=t[Math.floor(t.length*Math.random())],h=Math.ceil(r.width*y*this.zx),s=Math.ceil(r.height*y*this.zy),l=o.x-h/2,m=o.y,i){var M=.6;g=Math.random()*(3*Math.PI/2)-.75*Math.PI,f=(.7+.6*(Math.random()-.5))*Math.max(h,s)*4*i}else{g=o.param&&void 0!==o.param.radian?-o.param.radian+((Math.random()-.5)*(o.spread||.2)+.5)*Math.PI:Math.random()*(3*Math.PI/2)-.75*Math.PI,f=(.75+.25*Math.random())*(o.radius||300);var M=(o.duration||1500)/1e3}d=l+Math.sin(g)*f,p=m+-Math.cos(g)*f;var v=Math.floor(1e3*M*(1+.4*(Math.random()-.5)));(void 0===x||x<v)&&(x=v);var w={img:r,x:l,y:m,w:h,h:s,imgZoom:y};this.TR.add({element:w,time:v,wait:.4,timing:"inQuad",styles:{rotate:{from:0,to:(Math.random()+.2)*M*180,unit:n}},onInit:e}),this.TR.add({element:w,time:v,wait:.7,timing:"inQuad",styles:{opacity:{from:1,to:0,unit:n}},onInit:e}),this.TR.add({element:w,time:v,timing:"outCubic",styles:{y:{from:m,to:p,unit:n}},onInit:e}),this.TR.add({element:w,time:v,timing:"linear",styles:{x:{from:l,to:d,unit:n}},onInit:e})}return x},apnx2.prototype.bubble=function(t,a,i,o){function n(t){}function e(t){t.element.wgt&&t.element.wgt.tag&&t.element.wgt.tag.parentNode&&h(t.element.wgt,t.element.idx)}function r(t,a,i){u.onTR(t,a,i,"y")}var h;if("function"==typeof t)h=t,t=[];else if(!t||!t.length||!a)return 0;o=o||{};var s,l,m,d,p,g,f,c,y,x,u=this,M=o.imgZoom||1;if(i){for(var v=4,w=0,T=0,b=0;b<t.length;b++)w+=Math.ceil(t[b].width*M*this.zx),T+=Math.ceil(t[b].height*M*this.zy);w/=t.length,T/=t.length,y=6*w*i,x=5*T*i}else y=o.areaW,x=o.areaH;if(h)for(var b=0;b<a;b++)t.push(h(void 0,b));for(var I=void 0,C=void 0,b=0;b<t.length;b++)h?(l=Math.ceil(t[b].get("w")),m=Math.ceil(t[b].get("h"))):(l=Math.ceil(t[b].width*M*this.zx),m=Math.ceil(t[b].height*M*this.zy)),(void 0===I||I<l*m)&&(I=l*m),(void 0===C||C>l*m)&&(C=l*m);for(b=0;b<a;b++){h?(s=t[b],l=Math.ceil(s.get("w")),m=Math.ceil(s.get("h"))):(s=t[Math.floor(t.length*Math.random())],l=Math.ceil(s.width*M*this.zx),m=Math.ceil(s.height*M*this.zy)),g=o.x+y*(Math.random()-.5)-l/2,f=o.y-x*(1+.1*Math.random())-m,d=o.x-l/2,p=o.y;var z={x:d,y:p,w:l,h:m};if(h?(z.wgt=s,z.idx=b):z.img=s,i)var R=3*Math.floor(v*x*(1+.4*(Math.random()-.5)));else{var R=o.duration;I-C&&(R-=R*((l*m-C)/(I-C))*.3)}R=Math.round(R);var k=Math.round(R/3);(void 0===c||c<R)&&(c=R);var S=.3*Math.random();this.TR.add({element:z,wait:.5,time:R*(1-S),timing:"inQuart",styles:{opacity:{from:1,to:0,unit:r}},onInit:n}),this.TR.add({element:z,time:k,timing:"outCubic",styles:{x:{from:d,to:g,unit:r}},onInit:n}),this.TR.add({element:z,time:R*(1-S),timing:"inQuad",styles:{y:{from:p,to:f,unit:r}},onInit:n,onEnd:e})}return c||500},apnx2.prototype.fall=function(t,a,i,o){function n(t,a,i){x.onTR(t,a,i,"y")}function e(t,a,i){x.onTR(t,a,i,"opacity")}function r(t){}function h(t){x.TR.add({element:t.element,time:b,timing:"inQuad",styles:{opacity:{from:1,to:0,unit:e}},onInit:r})}if(!t||!t.length||!a)return 0;var s,l,m,d,p,g,f,c,y,x=this,u=500;c=o.areaW,y=o.areaH;for(var M=0;M<a;M++){s=t[Math.floor(t.length*Math.random())],l=Math.ceil(s.width*this.zx),m=Math.ceil(s.height*this.zy);var v=Math.random();d=o.x+c*(Math.random()-.5)-l/2,p=o.y-m-y*v,g=d+(o.wind||0)*Math.random()*c,f=o.y+y-m*(1+1*Math.random());var w={img:s,x:d,y:p,w:l,h:m},T=.85*o.duration,b=.15*o.duration;(void 0===u||u<T)&&(u=T),o.wind&&this.TR.add({element:w,time:T*(.5+v/2),timing:"inQuad",styles:{x:{from:d,to:g,unit:n}},onInit:r}),this.TR.add({element:w,time:T*(.5+v/2),timing:"linear",styles:{y:{from:p,to:f,unit:n}},onInit:r,onEnd:h})}return u},apnx2.prototype.spiral=function(t,a,i,o){function n(t,a,i){d.onTR(t,a,i,"rotate")}function e(t){}if(!t||!t.length||!a)return 0;var r,h,s,l,m,d=this,p=o&&o.imgZoom?o.imgZoom:1,g=700;if(i){for(var f=0,c=0,y=0;y<t.length;y++)f+=Math.ceil(t[y].width*p*this.zx),c+=Math.ceil(t[y].height*p*this.zy);f/=t.length,c/=t.length;var x=3*Math.max(f,c)*i}for(var y=0;y<a;y++){r=t[Math.floor(t.length*Math.random())],h=Math.ceil(r.width*p*this.zx),s=Math.ceil(r.height*p*this.zy),l=o.x-h/2,m=o.y-s/2;var u={img:r,w:h,h:s,x:l,y:m},M=720*(1+.4*(Math.random()-.5));if(i)var v=.6,w=15,T=Math.floor(w*x*(1+.6*(Math.random()-.5)));this.TR.add({element:u,time:T,timing:"outQuad",styles:{pRotate:{from:0,to:M,unit:n},offset:{from:0,to:x*(1+(Math.random()-.5)*v),unit:n}},onInit:e}),this.TR.add({element:u,time:T,timing:"inQuad",styles:{rotate:{from:0,to:540*(1+.4*(Math.random()-.5)),unit:n}},onInit:e}),this.TR.add({element:u,time:T,timing:"outQuad",wait:.8,styles:{opacity:{from:1,to:0,unit:n}},onInit:e}),(void 0===g||g<T)&&(g=T)}return g},apnx2.CPool=function(t,a){this.base=t,this.baseVisibility=t.get("visibility"),this.baseOpacity=t.get("opacity"),this.autoReset=!a,this.free=[!0],this.wgt=[t]},apnx2.CPool.prototype.take=function(){for(var t,a=0;a<this.free.length;a++)if(this.free[a]){this.free[a]=!1,t=this.wgt[a];break}if(!t){var t=this.base.clone();this.free.push(!1),this.wgt.push(t)}return t.zoomTo("100%","100%"),t.set("opacity",this.baseOpacity),t.set("visibility",this.baseVisibility),t},apnx2.CPool.prototype.release=function(t){for(var a=0;a<this.wgt.length;a++)this.wgt[a]==t&&(this.free[a]=!0,this.autoReset&&t.set("visibility","hidden"))};
/*BLUEGA Inc, apnx-ani-1.0.js Release date: 11/01/2021 17:23:16*/